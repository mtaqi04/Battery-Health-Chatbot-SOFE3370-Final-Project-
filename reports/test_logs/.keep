============================================================
BATTERY HEALTH CHATBOT - END-TO-END PIPELINE TESTING
============================================================
Test Run: 2025-11-24T23:37:26.932511
Project Root: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-

============================================================
TEST 1: Data Preprocessing Validation
============================================================
Data loaded: 670 samples
Features: 21/21
Missing values: 0
Invalid SOH: 0
SOH range: 0.6124 - 0.9230
Numeric types: True

============================================================
TEST 2: Model Loading Validation
============================================================
Model loaded from: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-\models\soh_linear_model.pkl
Has intercept: True
Coefficients: 21
Can predict: True
Test prediction: 0.4790

============================================================
TEST 3: Prediction Validation
============================================================
Model loaded successfully from: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-\models\soh_linear_model.pkl

Data loaded from: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-\data\cleaned_pulsebat.csv (shape (670, 22))
Using feature matrix of shape: (670, 21)
=== Battery SOH Prediction Results (Preview) ===
   Predicted_SOH Condition
0       0.937867   Healthy
1       0.861784   Healthy
2       0.846878   Healthy
3       0.795349   Healthy
4       0.779862   Healthy

=== Condition Summary ===
Healthy: 670 (100.00%)

Results saved to: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-\results\predicted_soh_with_labels.csv
Threshold used: 0.6
Single prediction: SOH=0.9379, Condition=Healthy
Batch prediction: 670 samples
Sample accuracy (n=10):
MAE: 0.0222
MSE: 0.0007
RMSE: 0.0256

============================================================
TEST 4: Classification Validation
============================================================
Threshold 0.5: SOH=0.9379 -> Healthy (Correct: True)
Threshold 0.6: SOH=0.9379 -> Healthy (Correct: True)
Threshold 0.7: SOH=0.9379 -> Healthy (Correct: True)
Threshold 0.8: SOH=0.9379 -> Healthy (Correct: True)
Model loaded successfully from: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-\models\soh_linear_model.pkl

Data loaded from: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-\data\cleaned_pulsebat.csv (shape (670, 22))
Using feature matrix of shape: (670, 21)
=== Battery SOH Prediction Results (Preview) ===
   Predicted_SOH Condition
0       0.937867   Healthy
1       0.861784   Healthy
2       0.846878   Healthy
3       0.795349   Healthy
4       0.779862   Healthy

=== Condition Summary ===
Healthy: 670 (100.00%)

Results saved to: c:\Users\titob\OneDrive\Desktop\Design and analysis\Project\Battery-Health-Chatbot-SOFE3370-Final-Project-\results\predicted_soh_with_labels.csv
Threshold used: 0.6
Batch classification (threshold=0.6): {'Healthy': 670}

============================================================
TEST 5: Consistency Testing (Multiple Runs)
============================================================
Same sample tested 5 times:
Mean: 0.937867
Std: 0.0000000000
Consistent: True
Multiple samples tested: 5 samples

============================================================
TEST 6: Chatbot Integration Validation
============================================================
Tested 3 input formats
format_1: Extracted=True, Count=21
     Prediction: SOH=0.9373, Condition=Healthy
format_2: Extracted=True, Count=21
     Prediction: SOH=0.9373, Condition=Healthy
format_3: Extracted=True, Count=21
     Prediction: SOH=29.6718, Condition=Healthy

============================================================
TEST 7: Edge Cases & Error Handling
============================================================
Wrong feature count: Correctly raises error
Extreme values: Min SOH=1.1118, Max SOH=0.6271
Boundary classification: Below=Has a Problem, Above=Healthy

Passed: 7
Failed: 0
Success Rate: 100.0%
